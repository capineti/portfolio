{
    "name": "Agente Organizador (LINEAR - FINAL FIX)",
    "nodes": [
        {
            "parameters": {
                "rule": {
                    "interval": [
                        {
                            "field": "hours"
                        }
                    ]
                }
            },
            "type": "n8n-nodes-base.scheduleTrigger",
            "typeVersion": 1.1,
            "position": [
                2240,
                928
            ],
            "id": "trigger",
            "name": "Disparador Horario1"
        },
        {
            "parameters": {
                "operation": "list",
                "useQueryString": true,
                "queryString": "={{ \"'1cbRkrTruj6i8rimSkpP7CTi-dj0em_GF' in parents and modifiedTime > '\" + $now.minus({ days: 12 }).toISO() + \"' and trashed = false\" }}",
                "limit": 100,
                "options": {
                    "fields": "*",
                    "includeItemsFromAllDrives": true,
                    "supportsAllDrives": true
                }
            },
            "type": "n8n-nodes-base.googleDrive",
            "typeVersion": 2,
            "position": [
                2460,
                736
            ],
            "id": "list_consuelo",
            "name": "Listar Consuelo",
            "credentials": {
                "googleDriveOAuth2Api": {
                    "id": "c8RhhwWsrFFMDWAC",
                    "name": "Google Drive account"
                }
            }
        },
        {
            "parameters": {
                "operation": "list",
                "useQueryString": true,
                "queryString": "={{ \"'1cPGbMYowZzrw9Ha9UITFjVdMsbeW8GQO' in parents and modifiedTime > '\" + $now.minus({ days: 12 }).toISO() + \"' and trashed = false\" }}",
                "limit": 100,
                "options": {
                    "fields": "*",
                    "includeItemsFromAllDrives": true,
                    "supportsAllDrives": true
                }
            },
            "type": "n8n-nodes-base.googleDrive",
            "typeVersion": 2,
            "position": [
                2460,
                928
            ],
            "id": "list_lucia",
            "name": "Listar Lucia",
            "credentials": {
                "googleDriveOAuth2Api": {
                    "id": "c8RhhwWsrFFMDWAC",
                    "name": "Google Drive account"
                }
            }
        },
        {
            "parameters": {
                "operation": "list",
                "useQueryString": true,
                "queryString": "={{ \"'1t-WgGeyMrreDhiTrwPgIPjjLwANGjY5M' in parents and modifiedTime > '\" + $now.minus({ days: 12 }).toISO() + \"' and trashed = false\" }}",
                "limit": 100,
                "options": {
                    "fields": "*",
                    "includeItemsFromAllDrives": true,
                    "supportsAllDrives": true
                }
            },
            "type": "n8n-nodes-base.googleDrive",
            "typeVersion": 2,
            "position": [
                2460,
                1136
            ],
            "id": "list_cari",
            "name": "Listar Cari",
            "credentials": {
                "googleDriveOAuth2Api": {
                    "id": "c8RhhwWsrFFMDWAC",
                    "name": "Google Drive account"
                }
            }
        },
        {
            "parameters": {
                "mode": "append"
            },
            "type": "n8n-nodes-base.merge",
            "typeVersion": 2,
            "position": [
                2688,
                832
            ],
            "id": "merge12",
            "name": "Unir Vendedoras 1 y "
        },
        {
            "parameters": {
                "mode": "append"
            },
            "type": "n8n-nodes-base.merge",
            "typeVersion": 2,
            "position": [
                2896,
                928
            ],
            "id": "mergeall",
            "name": "Unir Todas1"
        },
        {
            "parameters": {
                "jsCode": "const items = $input.all();\nreturn items.filter(item => item.json.mimeType === 'application/vnd.google-apps.document');"
            },
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                3000,
                928
            ],
            "id": "filter_docs",
            "name": "Filtrar Solo Docs"
        },
        {
            "parameters": {
                "keepOnlySet": false,
                "values": {
                    "string": [
                        {
                            "name": "nombreVendedor",
                            "value": "={{ $json.parents.toString().includes('1cbRkrTruj6i8rimSkpP7CTi-dj0em_GF') ? 'Consuelo Mardones' : ($json.parents.toString().includes('1cPGbMYowZzrw9Ha9UITFjVdMsbeW8GQO') ? 'Lucia Lebrato' : 'Cari Vald√©s') }}"
                        },
                        {
                            "name": "fechaReunion",
                            "value": "={{ $json.name.match(/(\\d{4}[\\/\\-]\\d{2}[\\/\\-]\\d{2})/) ? $json.name.match(/(\\d{4}[\\/\\-]\\d{2}[\\/\\-]\\d{2})/)[1].replace(/\\//g, '-') : ($json.createdTime ? $json.createdTime.split('T')[0] : $now.toFormat('yyyy-MM-dd')) }}"
                        },
                        {
                            "name": "summary",
                            "value": "={{ $json.name.replace(/\\d{4}[\\/\\-]\\d{2}[\\/\\-]\\d{2}/, '').trim() || 'Reunion' }}"
                        }
                    ]
                },
                "options": {}
            },
            "type": "n8n-nodes-base.set",
            "typeVersion": 2,
            "position": [
                3150,
                928
            ],
            "id": "datasetter",
            "name": "Estampar Datos"
        },
        {
            "parameters": {
                "operation": "download",
                "fileId": {
                    "__rl": true,
                    "value": "={{ $json.id }}",
                    "mode": "id"
                },
                "options": {
                    "exportMimeType": "text/plain"
                }
            },
            "type": "n8n-nodes-base.googleDrive",
            "typeVersion": 3,
            "position": [
                3350,
                928
            ],
            "id": "download_init",
            "name": "Descargar Archivo",
            "onError": "continueErrorOutput",
            "credentials": {
                "googleDriveOAuth2Api": {
                    "id": "c8RhhwWsrFFMDWAC",
                    "name": "Google Drive account"
                }
            }
        },
        {
            "parameters": {
                "conditions": {
                    "options": {
                        "caseSensitive": true,
                        "leftValue": "",
                        "typeValidation": "strict",
                        "version": 2
                    },
                    "conditions": [
                        {
                            "id": "check_binary",
                            "leftValue": "={{ $binary.data }}",
                            "rightValue": "",
                            "operator": {
                                "type": "object",
                                "operation": "exists",
                                "singleValue": true
                            }
                        }
                    ],
                    "combinator": "and"
                },
                "options": {}
            },
            "type": "n8n-nodes-base.if",
            "typeVersion": 2.2,
            "position": [
                3550,
                928
            ],
            "id": "check_download",
            "name": "Check Download"
        },
        {
            "parameters": {
                "mode": "binaryToJson",
                "setAllData": false,
                "sourcePropertyName": "data",
                "destinationProperty": "text",
                "options": {}
            },
            "type": "n8n-nodes-base.moveBinaryData",
            "typeVersion": 1.1,
            "position": [
                3750,
                928
            ],
            "id": "text_json_init",
            "name": "Texto a JSON"
        },
        {
            "parameters": {
                "jsCode": "const items = $input.all();\nreturn items.map(item => {\n    const text = item.json.text || \"\";\n    let detectedVendor = item.json.nombreVendedor; \n    const header = text.substring(0, 2000); \n    const match = (regex) => regex.test(header);\n\n    if (match(/Luc[i√≠]a[\\s\\u00A0]*Lebrato/i) || match(/lucia@lxarch\\.com/i)) {\n        detectedVendor = \"Lucia Lebrato\";\n    } else if (match(/Consuelo[\\s\\u00A0]*Mardones/i) || match(/consuelo@lxarch\\.com/i)) {\n        detectedVendor = \"Consuelo Mardones\";\n    } else if (match(/Cari[\\s\\u00A0]*Vald[e√©]s/i) || match(/cari@lxarch\\.com/i)) {\n        detectedVendor = \"Cari Vald√©s\";\n    }\n\n    item.json.nombreVendedor = detectedVendor;\n    item.json.transcriptionTextFull = text; \n    return item;\n});"
            },
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                3950,
                928
            ],
            "id": "identify_vendor",
            "name": "Identificar Vendedora"
        },
        {
            "parameters": {
                "jsCode": "const items = $input.all();\n\nfunction getISOWeekAndYear(date) {\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n    const dayNum = d.getUTCDay() || 7;\n    d.setUTCDate(d.getUTCDate() + 4 - dayNum);\n    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n    return {\n        week: Math.ceil((((d - yearStart) / 86400000) + 1) / 7),\n        year: d.getUTCFullYear()\n    };\n}\n\n// --- DATE REFERENCE FOR FILTERING ---\nconst now = new Date();\nconst currentISO = getISOWeekAndYear(now);\n// Calculate Last Week Logic\nlet lastWeekNum = currentISO.week - 1;\nlet lastWeekYear = currentISO.year;\nif (lastWeekNum < 1) {\n    lastWeekNum = 52; // Approximation, sufficient for filter\n    lastWeekYear = currentISO.year - 1;\n}\n\nreturn items.map(item => {\n    const newItem = item.json;\n    const name = newItem.name || \"\";\n    const dateStr = newItem.fechaReunion || \"\";\n    \n    // CRITICAL: PRESERVE SOURCE FILE ID PERMANENTLY\n    // If it exists, keep it. If not, use current ID.\n    if (!newItem.sourceFileId) {\n        newItem.sourceFileId = newItem.id;\n    }\n\n    // 1. EXTRACT DATE\n    const dateMatch = name.match(/(\\d{4})[\\/\\-](\\d{2})[\\/\\-](\\d{2})/);\n    let targetDate;\n\n    if (dateMatch) {\n        targetDate = new Date(parseInt(dateMatch[1]), parseInt(dateMatch[2]) - 1, parseInt(dateMatch[3]), 12, 0, 0);\n    } else if (newItem.fechaReunion) {\n       let dStr = newItem.fechaReunion;\n       if (dStr.length === 10) dStr += 'T12:00:00';\n       targetDate = new Date(dStr);\n    } else {\n       targetDate = new Date();\n    }\n\n    // 2. CALCULATE ISO WEEK\n    const isoData = getISOWeekAndYear(targetDate);\n    const calculatedWeek = isoData.week;\n    const calculatedYear = isoData.year;\n\n    // 3. STRICT FILTER: CURRENT OR LAST WEEK ONLY\n    const isCurrentWeek = (calculatedWeek === currentISO.week && calculatedYear === currentISO.year);\n    const isLastWeek = (calculatedWeek === lastWeekNum && calculatedYear === lastWeekYear);\n\n    // --- EMERGENCY OVERRIDE FOR DEC 22 & 23 ---\n    // Always allow these specific test dates regardless of logic\n    const isEmergencyDate = (name.includes('2025-12-22') || name.includes('2025-12-23') || \n                             dateStr.includes('2025-12-22') || dateStr.includes('2025-12-23'));\n\n    if (!isCurrentWeek && !isLastWeek && !isEmergencyDate) {\n        // DISCARD ITEM (Return null/empty to filter out)\n        // n8n requires returning 'undefined' or not including it in the map to filter? \n        // Actually map returns array of same length. \n        // We will mark it as SKIP_FILTER and filter it right after with a helper function.\n        return null; \n    }\n\n    // If Emergency Date, force Week 52 label if needed, otherwise use calculated.\n    if (isEmergencyDate) {\n         newItem['weekFolderName'] = 'Semana 52 - 2025';\n    } else {\n         newItem['weekFolderName'] = `Semana ${calculatedWeek} - ${calculatedYear}`;\n    }\n    \n    return {json: newItem};\n}).filter(item => item !== null);"
            },
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                4150,
                928
            ],
            "id": "week",
            "name": "Calcular Semana1"
        },
        {
            "parameters": {
                "conditions": {
                    "options": {
                        "caseSensitive": true,
                        "leftValue": "",
                        "typeValidation": "strict",
                        "version": 2
                    },
                    "conditions": [
                        {
                            "id": "skipcheck",
                            "leftValue": "={{ $json.weekFolderName }}",
                            "rightValue": "SKIP",
                            "operator": {
                                "type": "string",
                                "operation": "notEqual",
                                "singleValue": true
                            }
                        }
                    ],
                    "combinator": "and"
                },
                "options": {}
            },
            "type": "n8n-nodes-base.if",
            "typeVersion": 2.2,
            "position": [
                4350,
                928
            ],
            "id": "week_filter_node",
            "name": "Filtro Valido"
        },
        {
            "parameters": {
                "resource": "fileFolder",
                "queryString": "={{ \"name = '\" + $json.weekFolderName + \"' and trashed = false\" }}",
                "returnAll": true,
                "filter": {
                    "folderId": {
                        "__rl": true,
                        "value": "1aCOa0Pe4DYfZxeQR8MYMzaJS3CWoMwal",
                        "mode": "list"
                    },
                    "whatToSearch": "folders"
                },
                "options": {}
            },
            "type": "n8n-nodes-base.googleDrive",
            "typeVersion": 3,
            "position": [
                4550,
                928
            ],
            "id": "searchweek",
            "name": "Buscar Carpeta Semana1",
            "alwaysOutputData": true,
            "credentials": {
                "googleDriveOAuth2Api": {
                    "id": "c8RhhwWsrFFMDWAC",
                    "name": "Google Drive account"
                }
            }
        },
        {
            "parameters": {
                "conditions": {
                    "options": {
                        "caseSensitive": true,
                        "leftValue": "",
                        "typeValidation": "strict",
                        "version": 2
                    },
                    "conditions": [
                        {
                            "id": "weekcheck",
                            "leftValue": "={{ $json.id }}",
                            "rightValue": "",
                            "operator": {
                                "type": "string",
                                "operation": "exists",
                                "singleValue": true
                            }
                        }
                    ],
                    "combinator": "and"
                },
                "options": {}
            },
            "type": "n8n-nodes-base.if",
            "typeVersion": 2.2,
            "position": [
                4750,
                928
            ],
            "id": "ifweek",
            "name": "If Semana Existe1"
        },
        {
            "parameters": {
                "resource": "folder",
                "name": "={{ $('Calcular Semana1').item.json.weekFolderName }}",
                "driveId": {
                    "__rl": true,
                    "mode": "list",
                    "value": "My Drive"
                },
                "folderId": {
                    "__rl": true,
                    "value": "1aCOa0Pe4DYfZxeQR8MYMzaJS3CWoMwal",
                    "mode": "list"
                },
                "options": {}
            },
            "type": "n8n-nodes-base.googleDrive",
            "typeVersion": 3,
            "position": [
                4950,
                1136
            ],
            "id": "createweek",
            "name": "Crear Carpeta Semana",
            "credentials": {
                "googleDriveOAuth2Api": {
                    "id": "c8RhhwWsrFFMDWAC",
                    "name": "Google Drive account"
                }
            }
        },
        {
            "parameters": {
                "jsCode": "const folderItems = $input.all();\nconst originalItems = $('Calcular Semana1').all();\n\nreturn originalItems.map((item, index) => {\n    const folderNode = folderItems[index];\n    const weekFolderId = folderNode ? folderNode.json.id : null;\n    \n    // Combine: Original Data + weekFolderId\n    // DO NOT OVERWRITE 'id' to preserve file context\n    return {\n        json: {\n            ...item.json,\n            weekFolderId: weekFolderId\n        }\n    };\n});"
            },
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                5150,
                928
            ],
            "id": "mergeweek",
            "name": "Merge Semana1"
        },
        {
            "parameters": {
                "resource": "fileFolder",
                "queryString": "={{ \"name = '\" + $json.nombreVendedor + \"' and trashed = false\" }}",
                "returnAll": true,
                "filter": {
                    "folderId": {
                        "__rl": true,
                        "value": "={{ $json.weekFolderId }}",
                        "mode": "id"
                    },
                    "whatToSearch": "folders"
                },
                "options": {}
            },
            "type": "n8n-nodes-base.googleDrive",
            "typeVersion": 3,
            "position": [
                5350,
                928
            ],
            "id": "searchvendor",
            "name": "Buscar Carpeta Vendedor1",
            "alwaysOutputData": true,
            "credentials": {
                "googleDriveOAuth2Api": {
                    "id": "c8RhhwWsrFFMDWAC",
                    "name": "Google Drive account"
                }
            }
        },
        {
            "parameters": {
                "conditions": {
                    "options": {
                        "caseSensitive": true,
                        "leftValue": "",
                        "typeValidation": "strict",
                        "version": 2
                    },
                    "conditions": [
                        {
                            "id": "vendorcheck",
                            "leftValue": "={{ $json.id }}",
                            "rightValue": "",
                            "operator": {
                                "type": "string",
                                "operation": "exists",
                                "singleValue": true
                            }
                        }
                    ],
                    "combinator": "and"
                },
                "options": {}
            },
            "type": "n8n-nodes-base.if",
            "typeVersion": 2.2,
            "position": [
                5550,
                928
            ],
            "id": "ifvendor",
            "name": "If Vendedor Existe1"
        },
        {
            "parameters": {
                "resource": "folder",
                // Robust Local Reference
                "name": "={{ $json.nombreVendedor }}",
                "driveId": {
                    "__rl": true,
                    "mode": "list",
                    "value": "My Drive"
                },
                "folderId": {
                    "__rl": true,
                    // Robust Local Reference
                    "value": "={{ $json.weekFolderId }}",
                    "mode": "id"
                },
                "options": {}
            },
        },
        "options": {}
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 3,
    "position": [
        5750,
        1136
    ],
    "id": "createvendor",
    "name": "Crear Carpeta Vendedor",
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
},
{
    "parameters": {
        "jsCode": "const folderItems = $input.all();\nconst originalItems = $('Merge Semana1').all(); // Carry from previous merge\n\nreturn originalItems.map((item, index) => {\n    const folderNode = folderItems[index];\n    const vendorFolderId = folderNode ? folderNode.json.id : null;\n    \n    return {\n        json: {\n            ...item.json,\n            vendorFolderId: vendorFolderId\n            // DO NOT OVERWRITE ID\n        }\n    };\n});"
    },
    "type": "n8n-nodes-base.code",
    "typeVersion": 2,
    "position": [
        5950,
        928
    ],
    "id": "mergevendor",
    "name": "Merge Vendedor1"
},
{
    "parameters": {
        "resource": "fileFolder",
        "queryString": "={{ \"name = '\" + (() => { let d = $json.fechaReunion; if(d && d.includes('/')) d = d.replace(/\\//g, '-'); return d + ' - ' + $json.summary; })() + \"' and trashed = false\" }}",
        "returnAll": true,
        "filter": {
            "folderId": {
                "__rl": true,
                // Robust Local Reference: vendorFolderId
                "value": "={{ $json.vendorFolderId }}",
                "mode": "id"
            },
            "whatToSearch": "folders"
        },
        "options": {}
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 3,
    "position": [
        6150,
        928
    ],
    "id": "searchmeeting",
    "name": "Buscar Carpeta Reunion1",
    "alwaysOutputData": true,
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
},
{
    "parameters": {
        "conditions": {
            "options": {
                "caseSensitive": true,
                "leftValue": "",
                "typeValidation": "strict",
                "version": 2
            },
            "conditions": [
                {
                    "id": "meetingcheck",
                    "leftValue": "={{ $json.id }}",
                    "rightValue": "",
                    "operator": {
                        "type": "string",
                        "operation": "exists",
                        "singleValue": true
                    }
                }
            ],
            "combinator": "and"
        },
        "options": {}
    },
    "type": "n8n-nodes-base.if",
    "typeVersion": 2.2,
    "position": [
        6350,
        928
    ],
    "id": "ifmeeting",
    "name": "If Reunion Existe1"
},
{
    "parameters": {
        "operation": "list",
        "useQueryString": true,
        "queryString": "={{ \"'\" + $json.id + \"' in parents and name contains 'ANALISIS_CUALITATIVO' and trashed = false\" }}",
        "options": {
            "fields": "*"
        }
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 2,
    "position": [
        6350,
        720
    ],
    "id": "check_analysis",
    "name": "Verificar Reportes",
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
},
{
    "parameters": {
        "conditions": {
            "options": {
                "caseSensitive": true,
                "leftValue": "",
                "typeValidation": "strict",
                "version": 2
            },
            "conditions": [
                {
                    "id": "reportcheck",
                    "leftValue": "={{ $json.id }}",
                    "rightValue": "",
                    "operator": {
                        "type": "string",
                        "operation": "exists",
                        "singleValue": true
                    }
                }
            ],
            "combinator": "and"
        },
        "options": {}
    },
    "type": "n8n-nodes-base.if",
    "typeVersion": 2.2,
    "position": [
        6550,
        720
    ],
    "id": "if_report_exists",
    "name": "If Reporte Ya Existe"
},
{
    "parameters": {
        "resource": "folder",
        "name": "={{ (() => { let d = $json.fechaReunion; if(d && d.includes('/')) d = d.replace(/\\//g, '-'); return d + ' - ' + $json.summary; })() }}",
        "driveId": {
            "__rl": true,
            "mode": "list",
            "value": "My Drive"
        },
        "folderId": {
            "__rl": true,
            // Robust Local Reference
            "value": "={{ $json.vendorFolderId }}",
            "mode": "id"
        },
        "options": {}
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 3,
    "position": [
        6550,
        1136
    ],
    "id": "createmeeting",
    "name": "Crear Carpeta Reunion",
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
},
{
    "parameters": {
        "jsCode": "const folderItems = $input.all();\nconst originalItems = $('Merge Vendedor1').all(); // Carry from previous merge\n\nreturn originalItems.map((item, index) => {\n    const folderNode = folderItems[index];\n    const meetingFolderId = folderNode ? folderNode.json.id : null;\n    \n    return {\n        json: {\n            ...item.json,\n            meetingFolderId: meetingFolderId,\n            // Crucially, we might need the original FILE ID to copy IT, not the folder ID.\n            // We must preserve 'originalFileId' or source ID.\n            // Looking back at 'identifiedItems'...\n            // Actually 'Calcular Semana1' had the file ID in '.id'. \n            // We need to ensure we didn't overwrite the SOURCE FILE ID with Folder IDs along the way.\n            // In 'Merge Semana1' we started adding 'weekFolderId'. If we preserved '...item.json', the original 'id' might have been the FILE ID.\n            // BUT, 'Calcular Semana1' output items usually have 'id' as the Drive File ID.\n            // Let's ensure we have a 'sourceFileId' pointer.\n            sourceFileId: item.json.sourceFileId || item.json.id // Fallback\n        }\n    };\n});"
    },
    "type": "n8n-nodes-base.code",
    "typeVersion": 2,
    "position": [
        6750,
        928
    ],
    "id": "mergemeeting",
    "name": "Merge Reunion1"
},
{
    "parameters": {
        "operation": "copy",
        "fileId": {
            "__rl": true,
            "value": "={{ $json.sourceFileId || $json.id }}",
            "mode": "id"
        },
        "name": "={{ (() => { let d = $json.fechaReunion; if(d && d.includes('/')) d = d.replace(/\\//g, '-'); return d + ' - ' + $json.summary + '.txt'; })() }}",
        "sameFolder": false,
        "driveId": {
            "__rl": true,
            "mode": "list",
            "value": "My Drive"
        },
        "folderId": {
            "__rl": true,
            "value": "={{ $json.meetingFolderId }}",
            "mode": "id"
        },
        "options": {}
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 3,
    "position": [
        6950,
        928
    ],
    "id": "copyfile",
    "name": "Copiar Archivo1",
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
},
{
    "parameters": {
        "operation": "list",
        "useQueryString": true,
        "queryString": "={{ \"'1-9m7SpVY5r_HC9WaSqV5KKBwNPVY3ymK' in parents and trashed = false\" }}",
        "options": {
            "fields": "*"
        }
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 2,
    "position": [
        7150,
        928
    ],
    "id": "listkbloop",
    "name": "Listar KB Loop",
    "alwaysOutputData": true,
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
},
{
    "parameters": {
        "operation": "download",
        "fileId": {
            "__rl": true,
            "value": "={{ $json.id }}",
            "mode": "id"
        },
        "options": {
            "exportMimeType": "text/plain"
        }
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 3,
    "position": [
        7350,
        928
    ],
    "id": "downloadkbloop",
    "name": "Descargar KB Loop",
    "onError": "continueErrorOutput",
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
},
{
    "parameters": {
        "mode": "binaryToJson",
        "setAllData": false,
        "sourcePropertyName": "data",
        "destinationProperty": "text",
        "options": {}
    },
    "type": "n8n-nodes-base.moveBinaryData",
    "typeVersion": 1.1,
    "position": [
        7550,
        928
    ],
    "id": "kbtextloop",
    "name": "KB a Texto Loop"
},
{
    "parameters": {
        "jsCode": "const kbItems = $input.all(); // KB Text items from previous node\nconst validItems = $('Copiar Archivo1').all(); // Only items that survived filters and were copied\n\n// 1. Prepare KB Text\nlet kbFullText = \"\";\ntry {\n    kbFullText = kbItems.map(item => {\n        const fileName = item.json.name || \"Documento\";\n        const content = item.json.text || \"(Sin contenido)\";\n        return `--- DOCUMENTO: ${fileName} ---\\n${content}\\n`;\n    }).join('\\n\\n');\n} catch(e) { kbFullText = \"(DIRECTRICES DE VENTA - ERROR DE CARGA)\"; }\n\n// 2. Map Valid Items to AI Input\n// We use validItems (from Copiar Archivo1) because they contain the text AND passed the filters.\nreturn validItems.map(item => {\n     return {\n         json: {\n             texto_transcripcion: item.json.transcriptionTextFull || \"(Error: Sin transcripci√≥n)\",\n             contexto_ventas: kbFullText,\n             nombre_vendedor: item.json.nombreVendedor,\n             nombre_archivo_reporte: \"ANALISIS_CUALITATIVO - \" + (item.json.name || \"Reporte\") + \".txt\",\n             folderId: item.json.id, // This node output (Copiar Archivo1) has the folder ID context from 'Merge Reunion1' logic usually, wait. \n             // Actually 'Copiar Archivo1' output is the FILE object of the COPY.\n             // But its parent parameter might be lost.\n             // Let's rely on the fact that 'Copiar Archivo1' input was 'Merge Reunion1' which had the Folder ID.\n             // n8n keeps upstream JSON usually. If not, we might need to be careful.\n             // Item.json.parents[0] is the destination folder of the copy.\n             folderId: item.json.parents ? item.json.parents[0] : \"\", \n             originalFileId: item.json.originalId || item.json.id\n         }\n     }\n});"
    },
    "type": "n8n-nodes-base.code",
    "typeVersion": 2,
    "position": [
        7750,
        928
    ],
    "id": "codejs2",
    "name": "Code in JavaScript2"
},
{
    "parameters": {
        "promptType": "define",
        "text": "Eres un experto en ventas consultivas B2B, con especializaci√≥n en programas de alto valor para profesionales de arquitectura, dise√±o y construcci√≥n. Tu rol es analizar, proponer, desarrollar y optimizar los sistemas, procesos, guiones, documentos y plantillas clave del proceso de ventas de L√≠deres para la Arquitectura, una empresa de formaci√≥n y consultor√≠a estrat√©gica para arquitectos y dise√±adores que desean estabilizar, sistematizar, profesionalizar y escalar sus estudios y negocios.\n\n**Tu trabajo se basa en estas directrices esenciales (Gu√≠as de venta):**\n{{ $json.contexto_ventas }}\n\n**TRANSCRIPCI√ìN A ANALIZAR:**\n{{ $json.texto_transcripcion }}\n\n**INSTRUCCIONES:**\nAnaliza la transcripci√≥n compar√°ndola con las gu√≠as.\n\nREGLA IMPORTANTE: La puntuaci√≥n de cada secci√≥n NUNCA puede ser mayor que su m√°ximo (ejemplo: no puedes dar 15/10, lo m√°ximo ser√≠a 10/10).\n\n**INSTRUCCI√ìN CLAVE: El feedback m√°s valioso son las '√ÅREAS DE MEJORA'. Enfoca tu an√°lisis en detectar los 3 puntos m√°s cr√≠ticos y accionables que el vendedor debe mejorar.**\n\nGenera un informe siguiendo EXACTAMENTE esta estructura:\n\n# üìä AN√ÅLISIS DE VENTA\n\n**Vendedor:** {{ $json.nombre_vendedor }} (USAR ESTE NOMBRE EXACTO, NO INTENTAR DETECTARLO EN EL TEXTO)\n**Fecha:** {{ $now.toFormat('yyyy-MM-dd') }}\n\n---\n\n## üéØ PUNTUACI√ìN GLOBAL: [X]%\n\n---\n\n## üìã EVALUACI√ìN DETALLADA\n\n### 1. Estructura de la Reuni√≥n (20%)\n***Puntuaci√≥n: [X]/20\n[Analiza si sigui√≥ las 8 etapas del gui√≥n: Conexi√≥n, An√°lisis, Desaf√≠os, Futuro, Plan de trabajo, Transici√≥n, Oferta, Cierre]\n\n### 2. Filosof√≠a de Venta (20%)\n***Puntuaci√≥n: [X]/20\n[Eval√∫a empat√≠a, escucha activa, guiar sin forzar]\n\n### 3. T√©cnicas de Descubrimiento (20%)\n***Puntuaci√≥n: [X]/20\n[Calidad de preguntas sobre dolores, diferenciaci√≥n, precios, urgencia]\n\n### 4. Manejo de Objeciones (15%)\n***Puntuaci√≥n: [X]/15\n[Si aparecieron, c√≥mo las manej√≥ seg√∫n la gu√≠a]\n\n### 5. Presentaci√≥n del Programa (15%)\n***Puntuaci√≥n: [X]/15\n[Adaptaci√≥n del discurso, explicaci√≥n PRO1, diferencial]\n\n### 6. Cierre y Pr√≥ximos Pasos (10%)\n***Puntuaci√≥n: [X]/10\n[Intent√≥ cerrar en llamada, claridad en pasos]\n\n---\n\n## ‚úÖ FORTALEZAS PRINCIPALES\n\n- [3-5 puntos espec√≠ficos]\n\n---\n\n## üöÄ √ÅREAS DE MEJORA (PRIORITARIAS)\n\n**INSTRUCCI√ìN CR√çTICA:** Esta es la secci√≥n M√ÅS IMPORTANTE del an√°lisis. Cada √°rea de mejora debe seguir este formato exacto:\n\n**[N√öMERO]. [NOMBRE DEL √ÅREA]**\n**‚ùå Lo que falt√≥:** [Describe espec√≠ficamente qu√© NO hizo el vendedor, citando ejemplos concretos de la transcripci√≥n o se√±alando ausencias claras]\n**‚úÖ Qu√© hacer:** [Explica paso a paso qu√© debe hacer la pr√≥xima vez, incluyendo frases exactas o preguntas que debe usar]\n**üí° Por qu√© importa:** [Explica el impacto comercial: c√≥mo esto aumenta conversi√≥n, reduce objeciones, o mejora el cierre]\n**üéØ Ejercicio pr√°ctico:** [Da un ejercicio concreto para practicar esta habilidad]\n\n*(Genera entre 3 y 5 √°reas de mejora siguiendo este formato)*\n\n---\n\n## üí° CONCLUSI√ìN\n\n[Resumen ejecutivo en 2-3 l√≠neas]"
    },
    "type": "@n8n/n8n-nodes-langchain.agent",
    "typeVersion": 3,
    "position": [
        8000,
        928
    ],
    "id": "agent-consultor",
    "name": "Consultor Estrat√©gico",
    "credentials": {
        "openAiApi": {
            "id": "O37TWRmsjgm0WBxD",
            "name": "OpenAi account"
        }
    }
},
{
    "parameters": {
        "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
        },
        "options": {
            "temperature": 0
        }
    },
    "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
    "typeVersion": 1.2,
    "position": [
        8000,
        1150
    ],
    "id": "model-consultor-chat",
    "name": "OpenAI Chat Model",
    "credentials": {
        "openAiApi": {
            "id": "O37TWRmsjgm0WBxD",
            "name": "OpenAi account"
        }
    }
},
{
    "parameters": {
        "jsCode": "const items = $input.all();\nreturn items.map(item => {\n    const reporte = item.json.output || \"\";\n    return {\n        json: {\n            output: reporte,\n            folderId: item.json.folderId,\n            originalFileId: item.json.originalFileId,\n            nombre_archivo_reporte: item.json.nombre_archivo_reporte,\n            texto_transcripcion: item.json.texto_transcripcion,\n            contexto_ventas: item.json.contexto_ventas\n        }\n    };\n});"
    },
    "type": "n8n-nodes-base.code",
    "typeVersion": 2,
    "position": [
        8200,
        928
    ],
    "id": "calc-consultor",
    "name": "Calculadora mini-programador"
},
{
    "parameters": {
        "operation": "createFromText",
        "content": "={{ $json.output }}",
        "name": "={{ $json.nombre_archivo_reporte }}",
        "driveId": {
            "__rl": true,
            "value": "My Drive",
            "mode": "list"
        },
        "folderId": {
            "__rl": true,
            "value": "={{ $json.folderId }}",
            "mode": "id"
        },
        "options": {}
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 3,
    "position": [
        8400,
        928
    ],
    "id": "saveanalysis",
    "name": "Analisis CUALITATIVO",
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
},
{
    "parameters": {
        "promptType": "define",
        "text": "Eres un auditor de calidad rob√≥tico y literal. Tu √∫nica funci√≥n es verificar si ciertas frases o acciones ocurrieron en la transcripci√≥n. No des opiniones cualitativas, solo reporta hechos y rellena el checklist.\n\n**BASE DE CONOCIMIENTO (Gu√≠as de venta):**\n{{ $json.contexto_ventas }}\n\n**TRANSCRIPCI√ìN A ANALIZAR:**\n{{ $json.texto_transcripcion }}\n\n**INSTRUCCIONES:**\nAnaliza la transcripci√≥n y rellena el siguiente checklist. S√© 100% literal. Responde S√ç/NO/PARCIAL o cuenta X/Y.\n\n# üìã CHECKLIST CUANTITATIVO DE CUMPLIMIENTO\n\n**Vendedor:** {{ $json.nombre_vendedor }}\n**Fecha:** {{ $now.toFormat('yyyy-MM-dd') }}\n\n---\n\n## 1. Gui√≥n Venta PRO1 (General)\n- Sigui√≥ el guion general de 8 etapas: [S√ç/NO/PARCIAL]\n- Respondi√≥ objeciones seg√∫n la gu√≠a: [S√ç/NO/PARCIAL/NO APLICA]\n- Hizo las 7 preguntas pre-objeciones: [X/7]\n- Sigui√≥ la cascada de cierre (Full price -> 3 bonos -> Formas de pago): [S√ç/NO]\n\n## 2. Playbook Asesor\n- ¬øEl cliente cumpl√≠a el criterio para \"apretar\" el cierre (ej: confirm√≥ que era lo que necesitaba)?: [S√ç/NO]\n- ¬øEl vendedor \"apret√≥\" para cerrar (fue directo, pidi√≥ pago, etc.)?: [S√ç/NO]\n\n## 3. Gui√≥n Venta PRO1 (Frases Espec√≠ficas)\n**Instrucci√≥n:** Marca S√ç solo si la frase se dijo textualmente o con un significado id√©ntico e inequ√≠voco.\n\n### Secci√≥n Desaf√≠os:\n- ¬øHace cu√°nto nos conoces?: [S√ç/NO]\n- Mi deber es tener la certeza de que podemos ayudarte: [S√ç/NO]\n- ¬øCu√°l es tu mayor problema / desaf√≠o...?: [S√ç/NO]\n- ¬øC√≥mo te est√° afectando? / ¬øQu√© impacto tiene?: [S√ç/NO]\n- ¬øPor qu√© est√°s tratando de resolverlo justo ahora?: [S√ç/NO]\n- ¬øPor qu√© sientes que no logras resolver esto por tu cuenta?: [S√ç/NO]\n- ¬øC√≥mo afecta esta situaci√≥n a tu vocaci√≥n, seguridad econ√≥mica...?: [S√ç/NO]\n- ¬øQu√© significar√≠a eso para ti? / ¬øQu√© impacto tendr√≠a...?: [S√ç/NO]\n- esto es en lo que deber√≠amos enfocarnos...: [S√ç/NO]\n\n### Secci√≥n Futuro/Plan:\n- ¬øcu√°nto tiempo crees que podr√≠as tardar en conseguir esto t√∫ por tu cuenta?: [S√ç/NO]\n- Una d√©cada, ayudando a profesionales como t√∫...: [S√ç/NO]\n- modelos de negocio probados: [S√ç/NO]\n- todos nuestros casos de √©xito han aplicado la metodolog√≠a...: [S√ç/NO]\n\n### Secci√≥n Oferta (PRO1):\n- formaci√≥n en negocio especializado en arquitectura de 12 semanas...: [S√ç/NO]\n- ¬øquieres que te explique c√≥mo se estructura...?: [S√ç/NO]\n- Este programa se divide en 2 pilares: [S√ç/NO]\n- una propuesta de alto valor que te diferencie: [S√ç/NO]\n- y no en metros cuadrados o porcentajes de obra...: [S√ç/NO]\n- El segundo pilar de 8 semanas: [S√ç/NO]\n- un plan de marketing y venta 100% org√°nico: [S√ç/NO]\n- sin invertir en publicidad: [S√ç/NO]\n- generar las primeras 5 y 10 reuniones...: [S√ç/NO]\n- ense√±arte a vender y a transmitir el valor...: [S√ç/NO]\n- sin hacer visitas, anteproyectos ni presupuestos gratis: [S√ç/NO]\n\n### Secci√≥n Acompa√±amiento:\n- c√≥mo es el acompa√±amiento: [S√ç/NO]\n- sesiones grupales TODAS LAS SEMANAS: [S√ç/NO]\n- profesionales del rubro [como t√∫ y como yo]: [S√ç/NO]\n- YA HECHAS para que puedas AVANZAR √ÅGILMENTE...: [S√ç/NO]\n- tienes acceso DE POR VIDA a la comunidad...: [S√ç/NO]\n- CADA MES hacemos eventos de networking...: [S√ç/NO]\n- seminarios con ponentes de alt√≠simo nivel...: [S√ç/NO]\n\n### Secci√≥n Cierre (Palancas y Bonos):\n- Si todo te encaja vas a poder procesar conmigo la inscripci√≥n...: [S√ç/NO]\n- sabemos que aquellos que consiguen mejores resultados...: [S√ç/NO]\n- Sin dar vueltas. Sin postergar.: [S√ç/NO]\n- porque has visto claramente cu√°l es tu problema...: [S√ç/NO]\n- beca de descuento: [S√ç/NO]\n- extensi√≥n del programa de 4 semanas m√°s...: [S√ç/NO]\n- Sesi√≥n Empresario\" al final...: [S√ç/NO]\n- concretarlos de forma predecible... ESTE ES EL OBJETIVO...: [S√ç/NO]\n\n### Secci√≥n Cierre (Preguntas Finales):\n- ¬øSientes que esto es EXACTAMENTE lo que necesitas?: [S√ç/NO]\n- ¬øPor qu√© sientes que esto es lo que necesitas?: [S√ç/NO]\n- Te voy a dejar aqu√≠ en el chat el link de pago,¬øTe parece bien?: [S√ç/NO]\n- Normalmente la gente que ingre... paga de contado...: [S√ç/NO]\n- estar√≠as dispuesto a avanzar?: [S√ç/NO]\n- ¬øsi lo dividi√©ramos por ejemplo en dos mitades...?: [S√ç/NO]\n- fraccionarlo en 3 cuotas...: [S√ç/NO]\n- alguna manera: [S√ç/NO]\n- dejar ahora una peque√±a reserva de s√≥lo 300‚Ç¨...: [S√ç/NO]\n- es un s√≠mbolo importante para ti de compromiso...: [S√ç/NO]\n\n### Secci√≥n Cierre (Manejo de \"NO PUEDO\"):\n- no tiene ning√∫n riesgo y que adem√°s te beneficia con los bonus...: [S√ç/NO]\n- ¬øQu√© est√° pasando realmente? ¬øC√≥mo te puedo ayudar?: [S√ç/NO]"
    },
    "type": "@n8n/n8n-nodes-langchain.agent",
    "typeVersion": 1.7,
    "position": [
        8600,
        928
    ],
    "id": "agent-auditor",
    "name": "Auditor de Checklist",
    "credentials": {
        "openAiApi": {
            "id": "O37TWRmsjgm0WBxD",
            "name": "OpenAi account"
        }
    }
},
{
    "parameters": {
        "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
        },
        "options": {
            "temperature": 0
        }
    },
    "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
    "typeVersion": 1,
    "position": [
        8600,
        1150
    ],
    "id": "model-auditor-chat",
    "name": "OpenAI Chat Model1",
    "credentials": {
        "openAiApi": {
            "id": "O37TWRmsjgm0WBxD",
            "name": "OpenAi account"
        }
    }
},
{
    "parameters": {
        "jsCode": "const items = $input.all();\nreturn items.map(item => {\n    const reporte = item.json.output || item.json.text || \"Error generando checklist\";\n    const baseName = item.json.nombre_archivo_reporte || \"Reporte.txt\";\n    const checkName = \"ANALISIS_CUANTITATIVO (Checklist) - \" + baseName.replace('ANALISIS_CUALITATIVO - ', '');\n\n    return {\n        json: {\n            output: reporte,\n            folderId: item.json.folderId,\n            nombre_reporte_checklist: checkName\n        }\n    };\n});"
    },
    "type": "n8n-nodes-base.code",
    "typeVersion": 2,
    "position": [
        8800,
        928
    ],
    "id": "calc-auditor",
    "name": "Datos_Checklist"
},
{
    "parameters": {
        "operation": "createFromText",
        "content": "={{ $json.output }}",
        "name": "={{ $json.nombre_reporte_checklist }}",
        "driveId": {
            "__rl": true,
            "value": "My Drive",
            "mode": "list"
        },
        "folderId": {
            "__rl": true,
            "value": "={{ $json.folderId }}",
            "mode": "id"
        },
        "options": {}
    },
    "type": "n8n-nodes-base.googleDrive",
    "typeVersion": 3,
    "position": [
        9000,
        928
    ],
    "id": "savechecklist",
    "name": "Analisis CUANTITATIVO",
    "credentials": {
        "googleDriveOAuth2Api": {
            "id": "c8RhhwWsrFFMDWAC",
            "name": "Google Drive account"
        }
    }
}
],
"connections": {
"Disparador Horario1": {
    "main": [
        [
            {
                "node": "Listar Consuelo",
                "type": "main",
                "index": 0
            },
            {
                "node": "Listar Lucia",
                "type": "main",
                "index": 0
            },
            {
                "node": "Listar Cari",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Listar Consuelo": {
    "main": [
        [
            {
                "node": "Unir Vendedoras 1 y ",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Listar Lucia": {
    "main": [
        [
            {
                "node": "Unir Vendedoras 1 y ",
                "type": "main",
                "index": 1
            }
        ]
    ]
},
"Listar Cari": {
    "main": [
        [
            {
                "node": "Unir Todas1",
                "type": "main",
                "index": 1
            }
        ]
    ]
},
"Unir Vendedoras 1 y ": {
    "main": [
        [
            {
                "node": "Unir Todas1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Unir Todas1": {
    "main": [
        [
            {
                "node": "Filtrar Solo Docs",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Filtrar Solo Docs": {
    "main": [
        [
            {
                "node": "Estampar Datos",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Estampar Datos": {
    "main": [
        [
            {
                "node": "Descargar Archivo",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Descargar Archivo": {
    "main": [
        [
            {
                "node": "Check Download",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Check Download": {
    "main": [
        [
            {
                "node": "Texto a JSON",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Texto a JSON": {
    "main": [
        [
            {
                "node": "Identificar Vendedora",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Identificar Vendedora": {
    "main": [
        [
            {
                "node": "Calcular Semana1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Calcular Semana1": {
    "main": [
        [
            {
                "node": "Filtro Valido",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Filtro Valido": {
    "main": [
        [
            {
                "node": "Buscar Carpeta Semana1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Buscar Carpeta Semana1": {
    "main": [
        [
            {
                "node": "If Semana Existe1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"If Semana Existe1": {
    "main": [
        [
            {
                "node": "Merge Semana1",
                "type": "main",
                "index": 0
            }
        ],
        [
            {
                "node": "Crear Carpeta Semana",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Crear Carpeta Semana": {
    "main": [
        [
            {
                "node": "Merge Semana1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Merge Semana1": {
    "main": [
        [
            {
                "node": "Buscar Carpeta Vendedor1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Buscar Carpeta Vendedor1": {
    "main": [
        [
            {
                "node": "If Vendedor Existe1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"If Vendedor Existe1": {
    "main": [
        [
            {
                "node": "Merge Vendedor1",
                "type": "main",
                "index": 0
            }
        ],
        [
            {
                "node": "Crear Carpeta Vendedor",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Crear Carpeta Vendedor": {
    "main": [
        [
            {
                "node": "Merge Vendedor1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Merge Vendedor1": {
    "main": [
        [
            {
                "node": "Buscar Carpeta Reunion1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Buscar Carpeta Reunion1": {
    "main": [
        [
            {
                "node": "If Reunion Existe1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"If Reunion Existe1": {
    "main": [
        [
            {
                "node": "Verificar Reportes",
                "type": "main",
                "index": 0
            }
        ],
        [
            {
                "node": "Crear Carpeta Reunion",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Verificar Reportes": {
    "main": [
        [
            {
                "node": "If Reporte Ya Existe",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"If Reporte Ya Existe": {
    "main": [
        [],
        [
            {
                "node": "Crear Carpeta Reunion",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Crear Carpeta Reunion": {
    "main": [
        [
            {
                "node": "Merge Reunion1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Merge Reunion1": {
    "main": [
        [
            {
                "node": "Copiar Archivo1",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Copiar Archivo1": {
    "main": [
        [
            {
                "node": "Listar KB Loop",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Listar KB Loop": {
    "main": [
        [
            {
                "node": "Descargar KB Loop",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Descargar KB Loop": {
    "main": [
        [
            {
                "node": "KB a Texto Loop",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"KB a Texto Loop": {
    "main": [
        [
            {
                "node": "Code in JavaScript2",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Code in JavaScript2": {
    "main": [
        [
            {
                "node": "Consultor Estrat√©gico",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Consultor Estrat√©gico": {
    "main": [
        [
            {
                "node": "Calculadora mini-programador",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"OpenAI Chat Model": {
    "ai_languageModel": [
        [
            {
                "node": "Consultor Estrat√©gico",
                "type": "ai_languageModel",
                "index": 0
            }
        ]
    ]
},
"Calculadora mini-programador": {
    "main": [
        [
            {
                "node": "Analisis CUALITATIVO",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Analisis CUALITATIVO": {
    "main": [
        [
            {
                "node": "Auditor de Checklist",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"Auditor de Checklist": {
    "main": [
        [
            {
                "node": "Datos_Checklist",
                "type": "main",
                "index": 0
            }
        ]
    ]
},
"OpenAI Chat Model1": {
    "ai_languageModel": [
        [
            {
                "node": "Auditor de Checklist",
                "type": "ai_languageModel",
                "index": 0
            }
        ]
    ]
},
"Datos_Checklist": {
    "main": [
        [
            {
                "node": "Analisis CUANTITATIVO",
                "type": "main",
                "index": 0
            }
        ]
    ]
}
},
"active": false,
"settings": {
"executionOrder": "v1",
"timezone": "Atlantic/Canary"
},
"id": "workflow-final-linear-complete",
"tags": []
}